<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Metadatos del documento -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Enlace al archivo de estilos externo -->
    <link rel="stylesheet" href="style.css" />
    <!-- Título de la página -->
    <title>Generador QR</title>
</head>

<body>
    <!-- Contenedor principal -->
    <div class="container">
        <!-- Título informativo -->
        <p>Escribe tu texto o URL</p>
        <!-- Campo de entrada de texto -->
        <input type="text" placeholder="Texto o URL" id="qrText" />
        <!-- Contenedor de la imagen del código QR -->
        <div id="imgBox">
            <!-- Imagen del código QR (inicialmente vacía) -->
            <img src="" id="qrImage" />
        </div>
        <!-- Botón para generar el código QR -->
        <button onclick="generateQR()">Generar QR</button>
    </div>

    <!-- Script JavaScript para la funcionalidad -->
    <script>
        // Obtener elementos del DOM
        let imgBox = document.getElementById("imgBox");
        let qrImage = document.getElementById("qrImage");
        let qrText = document.getElementById("qrText");

        // Función para generar el código QR
        const generateQR = () => {
            // Verificar si el campo de texto no está vacío
            if (qrText.value.length > 0) {
                // Generar y mostrar el código QR
                qrImage.src =
                    "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" +
                    encodeURIComponent(qrText.value);
                // Agregar la clase show-img al div contenedor de la imagen imgBox, esta nueva clase cambia la altura de 0px a 300px
                imgBox.classList.add("show-img");
            } else {
                // Manejar el caso de texto vacío: agregar clase de error y eliminarla después de 1 segundo (1000 mili segundos)
                qrText.classList.add("error");
                setTimeout(() => {
                    qrText.classList.remove("error");
                }, 1000);
            }
        };
    </script>
</body>

</html>